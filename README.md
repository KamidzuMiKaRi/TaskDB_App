#  TaskDB App Wiki

##  Обзор проекта

**TaskDB App** — это кроссплатформенное настольное приложение для управления задачами (To-Do List/Task Manager). Оно разработано с использованием современных веб-технологий и упаковано как нативное десктопное приложение.

### Используемые технологии

| Категория | Технология | Описание |
| :--- | :--- | :--- |
| **Фреймворк** | **Electron** | Обеспечивает запуск веб-приложения как настольного приложения на Windows, macOS и Linux. |
| **Frontend** | **React** | Библиотека для построения пользовательского интерфейса. |
| **Сборка/Dev** | **Vite** | Быстрый инструмент для сборки и разработки. |
| **База данных** | **SQLite** | Легковесная, встраиваемая SQL-база данных. |
| **Интерфейс к DB** | **better-sqlite3** | Высокопроизводительный Node.js модуль для работы с SQLite. |
| **Упаковка** | **electron-builder** | Инструмент для создания готовых инсталляторов. |

-----

##  Установка и запуск

### Требования

Для работы с кодом проекта вам потребуется:

  * **Node.js** (рекомендуется LTS-версия)
  * **npm** (менеджер пакетов, идет в комплекте с Node.js)

### 1\. Клонирование репозитория

```bash
git clone https://github.com/KamidzuMiKaRi/TaskDB_App.git
cd TaskDB_App
```

### 2\. Установка зависимостей

Установите все необходимые пакеты. **ВНИМАНИЕ:** Из-за использования нативного модуля `better-sqlite3`, может потребоваться пересборка зависимостей под вашу версию Electron.

```bash
npm install
```

### 3\. Режимы работы

####  Запуск в режиме разработки (Development)

Этот режим включает быструю перезагрузку (HMR) для React и DevTools Electron для отладки.

```bash
npm run dev
```

####  Сборка и запуск готового приложения (Production)

Для создания полностью упакованного приложения для вашей текущей операционной системы:

1.  **Сборка:**

    ```bash
    npm run build
    ```

    **Примечание:** На Windows эта команда может потребовать **прав администратора** из-за необходимости создания символических ссылок при распаковке `winCodeSign`.

2.  **Запуск:**
    После успешной сборки, готовый исполняемый файл (например, `.exe` для Windows) будет находиться в папке **`dist`**. Запустите его оттуда.

-----

##  Структура проекта

Основная логика приложения разделена на три ключевые части:

1.  **Main Process (Electron)**

      * Файл: `electron/main.js`
      * Отвечает за создание окна, управление жизненным циклом приложения, инициализацию базы данных и обработку IPC-сообщений.
      * **IPC (Inter-Process Communication):** Используется для связи с процессом рендеринга (React) для выполнения операций с базой данных.

2.  **Renderer Process (React/Vite)**

      * Файл: `src/main.jsx` и компоненты в `src/components`.
      * Отвечает за отображение пользовательского интерфейса и обработку пользовательского ввода.

3.  **Database Layer (SQLite)**

      * База данных (`taskdb.db`) инициализируется в главном процессе.
      * Нативные запросы к DB выполняются исключительно в **главном процессе** с помощью `better-sqlite3`.

-----

##  Управление базой данных

Приложение использует **SQLite** для локального хранения задач.

### Путь к файлу DB

Для корректной работы в упакованном приложении, файл базы данных (`taskdb.db`) должен храниться в папке пользовательских данных.

  * **Windows:** `%APPDATA%\taskdb_app\` (Например, `C:\Users\User\AppData\Roaming\taskdb_app\taskdb.db`)
  * **macOS:** `~/Library/Application Support/taskdb_app/`
  * **Linux:** `~/.config/taskdb_app/`

### Взаимодействие (IPC)

Все операции CRUD (Create, Read, Update, Delete) с задачами осуществляются через **IPC** (`ipcMain` и `ipcRenderer`):

1.  **Renderer (React)** отправляет запрос (например, "добавить задачу") через `ipcRenderer.invoke()`.
2.  **Main (Electron)** принимает запрос через `ipcMain.handle()`, выполняет соответствующий SQL-запрос с помощью `better-sqlite3`.
3.  **Main (Electron)** возвращает результат или статус операции обратно в **Renderer**.
